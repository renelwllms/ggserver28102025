import{q as $,R as I,s as le,r as u,u as z,v as Q,j as v,F as X,k as O,w as se,x as oe,y as ue,z as L,A as Z,B as ee,D as Y,E as M,H as ce,T as fe}from"./index.5c46b2c4.js";function ve(e){var i=e.style,a=e.width,r=a===void 0?"60%":a,n=e.rows,l=n===void 0?3:n,s=e.className,t=e.prefixCls,c=$(t+"-text",s),o=[];function d(x){if(le(r))return r[x];if(l-1===x)return r}for(var f=0;f<l;f++)o.push(I.createElement("li",{className:t+"-text-row",key:f,style:{width:d(f)}}));return I.createElement("ul",{className:c,style:i},o)}function de(e){var i,a=e.style,r=e.shape,n=r===void 0?"square":r,l=e.size,s=e.position,t=s===void 0?"left":s,c=e.className,o=e.prefixCls,d=$(o+"-image",(i={},i[o+"-image-"+t]=t,i[o+"-image-"+n]=n,i[o+"-image-"+l]=l,i),c);return I.createElement("div",{className:d,style:a})}var V=globalThis&&globalThis.__assign||function(){return V=Object.assign||function(e){for(var i,a=1,r=arguments.length;a<r;a++){i=arguments[a];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},V.apply(this,arguments)};function G(e){return oe(e)?e:{}}var me={text:!0,loading:!0};function ge(e,i){var a,r=u.exports.useContext(z),n=r.getPrefixCls,l=r.componentConfig,s=r.rtl,t=Q(e,me,l==null?void 0:l.Skeleton),c=t.style,o=t.className,d=t.animation,f=t.loading,x=t.image,N=t.text,b=t.children,w=G(x),y=G(N),m=n("skeleton"),F=$(m,(a={},a[m+"-animate"]=d,a[m+"-rtl"]=s,a),o);function P(){return x&&v("div",{className:m+"-header",children:v(de,{...V({prefixCls:m},w)})})}function T(){return N&&v("div",{className:m+"-content",children:v(ve,{...V({prefixCls:m},y)})})}return v(X,{children:f?O("div",{...V({},se(t),{className:F,style:c,ref:i}),children:[w.position!=="right"&&P(),T(),w.position==="right"&&P()]}):b})}var te=u.exports.forwardRef(ge);te.displayName="Skeleton";var he=te,xe=globalThis&&globalThis.__read||function(e,i){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var r=a.call(e),n,l=[],s;try{for(;(i===void 0||i-- >0)&&!(n=r.next()).done;)l.push(n.value)}catch(t){s={error:t}}finally{try{n&&!n.done&&(a=r.return)&&a.call(r)}finally{if(s)throw s.error}}return l},ye=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function J(e,i){var a=e;return ye.reduce(function(r,n){var l=xe(n,2),s=l[0],t=l[1];if(r.indexOf(s)!==-1){var c=Math.floor(a/t);return a-=c*t,r.replace(new RegExp(s+"+","g"),function(o){var d=o.length;return ue(c.toString(),d,"0")})}return r},i)}var K=globalThis&&globalThis.__read||function(e,i){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var r=a.call(e),n,l=[],s;try{for(;(i===void 0||i-- >0)&&!(n=r.next()).done;)l.push(n.value)}catch(t){s={error:t}}finally{try{n&&!n.done&&(a=r.return)&&a.call(r)}finally{if(s)throw s.error}}return l};function pe(e,i){var a=u.exports.useContext(z).getPrefixCls,r=e.className,n=e.style,l=e.title,s=e.styleValue,t=e.value,c=e.onFinish,o=e.renderFormat,d=e.format,f=d===void 0?"HH:mm:ss":d,x=e.start,N=x===void 0?!0:x,b=L(t,f)||Z(),w=L(e.now,f),y=a("statistic"),m=K(u.exports.useState(b.diff(w,"millisecond")),2),F=m[0],P=m[1],T=K(u.exports.useState(J(Math.max(F,0),f)),2),k=T[0],S=T[1],C=u.exports.useRef(null),j=function(){clearInterval(C.current),C.current=null},g=function(){C.current=setInterval(function(){var h=b.diff(Y()),D=b.diff(Y(),"millisecond");D<=0&&(j(),c==null||c());var E=J(Math.max(D,0),f);S(E),P(h)},1e3/30)};u.exports.useEffect(function(){return!C.current&&N&&b.valueOf()>=Date.now()&&g(),function(){j()}},[e.start]);var R=ee(o)?o(F,k):k;return O("div",{ref:i,className:$(""+y,y+"-countdown",r),style:n,children:[l&&v("div",{className:y+"-title",children:l}),v("div",{className:y+"-content",children:v("div",{className:y+"-value",style:s,children:R})})]})}var re=u.exports.forwardRef(pe);re.displayName="StatisticCountdown";var Ne=re,q=globalThis&&globalThis.__assign||function(){return q=Object.assign||function(e){for(var i,a=1,r=arguments.length;a<r;a++){i=arguments[a];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},q.apply(this,arguments)},be=globalThis&&globalThis.__rest||function(e,i){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)i.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a},we=globalThis&&globalThis.__read||function(e,i){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var r=a.call(e),n,l=[],s;try{for(;(i===void 0||i-- >0)&&!(n=r.next()).done;)l.push(n.value)}catch(t){s={error:t}}finally{try{n&&!n.done&&(a=r.return)&&a.call(r)}finally{if(s)throw s.error}}return l},_e={countFrom:0,countDuration:2e3};function Se(e,i){var a,r=u.exports.useContext(z),n=r.getPrefixCls,l=r.componentConfig,s=r.rtl,t=Q(e,_e,l==null?void 0:l.Statistic),c=t.className,o=t.style,d=t.title,f=t.extra,x=t.groupSeparator,N=t.precision,b=t.prefix,w=t.suffix,y=t.format,m=t.renderFormat,F=t.styleValue,P=t.styleDecimal,T=t.loading,k=be(t,["className","style","title","extra","groupSeparator","precision","prefix","suffix","format","renderFormat","styleValue","styleDecimal","loading"]),S=u.exports.useRef(),C=u.exports.useRef(),j=we(u.exports.useState("value"in t?t.value:void 0),2),g=j[0],R=j[1],h=n("statistic"),D=function(_,p){_===void 0&&(_=t.countFrom),p===void 0&&(p=t.value);var H=t.countDuration;_!==p&&(S.current=new fe({from:{value:_},to:{value:p},duration:H,easing:"quartOut",onUpdate:function(ie){R(ie.value.toFixed(N))},onFinish:function(){R(p)}}),S.current.start())};u.exports.useEffect(function(){return t.countUp?(S.current&&S.current.stop(),g!==t.value?D(Number(g),t.value):D()):R(t.value),function(){S.current&&S.current.stop(),S.current=null}},[t.value]),u.exports.useImperativeHandle(i,function(){return{countUp:D,getRootDOMNode:function(){return C.current}}});var E=u.exports.useMemo(function(){var _=g;y&&(_=Z(g).format(y)),M(N)&&N>=0&&(_=Number(g).toFixed(N));var p=String(_).split(".")[0],H=String(_).split(".")[1];return x&&M(Number(g))&&(p=Number(p).toLocaleString("en-US")),{int:p,decimal:H}},[y,x,N,g]),ae=E.int,U=E.decimal,ne=ee(m)?m:function(_,p){return p},W=M(Number(g)),B=O(X,{children:[b!=null?v("span",{className:h+"-value-prefix",children:b}):null,ne(g,W?ae:g)]});return O("div",{...q({className:$(""+h,(a={},a[h+"-rtl"]=s,a),c),style:o},ce(k,["value","countUp","countFrom","countDuration"]),{ref:C}),children:[d&&v("div",{className:h+"-title",children:d}),O("div",{className:h+"-content",children:[v(he,{animation:!0,loading:!!T,text:{rows:1,width:"100%"},children:O("div",{className:h+"-value",style:F,children:[W?v("span",{className:h+"-value-int",children:B}):B,U!==void 0||w?O("span",{className:h+"-value-decimal",style:P,children:[M(Number(g))&&U!==void 0&&"."+U,w!=null?v("span",{className:h+"-value-suffix",children:w}):null]}):null]})}),f&&v("div",{className:h+"-extra",children:f})]})]})}var Ce=u.exports.forwardRef(Se),A=Ce;A.displayName="Statistic";A.Countdown=Ne;var Fe=A;export{Fe as S};
