import{aP as k,F as r,S as B,r as n,j as f,a as e,m as C,k as y,l as A,B as m,M as q,x as D,aN as M,s as G,t as j,y as K,z as V,v as w}from"./index.dbab94e8.js";import{a as $,T as H}from"./index.027a4f8b.js";import{C as ee}from"./index.40af5fda.js";import{I as J,M as Q,D as W}from"./index.b2408667.js";var P={getCourses:{url:"/api/course/list",method:"get"},getUnits:{url:"/api/course/units",method:"get"},getCourse:{url:"/api/course/:courseId",method:"get"},addCourse:{url:"/api/course",method:"post"},updateCourse:{url:"/api/course",method:"put"},deleteCourse:{url:"/api/course",method:"delete"},updateUnitstandard:{url:"/api/course/unitstandard",method:"post"}};const F={async getCourses(t){return await k(P.getCourses,t)},async getUnits(t){return await k(P.getUnits,t)},async addCourse(t){return await k(P.addCourse,t)},async updateCourse(t){return await k(P.updateCourse,t)},async deleteCourse(t){return await k(P.deleteCourse,t)},async updateUnitstandard(t){return await k(P.updateUnitstandard,t)}},te="_logo_1p51g_1",le="_toolbar_1p51g_15",se="_operations_1p51g_20";var X={logo:te,"logo-name":"_logo-name_1p51g_8",toolbar:le,operations:se,"content-type":"_content-type_1p51g_23","search-form-wrapper":"_search-form-wrapper_1p51g_30","right-button":"_right-button_1p51g_35","button-group":"_button-group_1p51g_44","search-form":"_search-form_1p51g_30","cLoading-form":"_cLoading-form_1p51g_55"};const v=r.Item,ne=B.Option,re=({rowData:t,onOk:d,unitStandards:c})=>{const[o]=r.useForm(),[g,u]=n.exports.useState(!1);n.exports.useEffect(()=>{t!=null&&t.CourseID?o.setFieldsValue({...t}):o.resetFields()},[t]);const a=()=>{o.resetFields()};return f(r,{form:o,onSubmit:s=>{u(!0),t!=null&&t.CourseID?F.updateCourse({CourseID:t==null?void 0:t.CourseID,...s}).then(i=>{i!=null&&i.data&&(q.success("success"),d())}).finally(()=>{u(!1)}):F.addCourse({...s}).then(i=>{i!=null&&i.data&&(q.success("success"),d())}).finally(()=>{u(!1)})},labelAlign:"left",wrapperCol:{span:24},className:X["search-form"],size:"small",children:[e(v,{label:"Course Name",field:"CourseName",rules:[{required:!0,message:"Please enter course name"}],children:e(C,{placeholder:"Enter course name"})}),e(v,{label:"Course Details",field:"CourseDetails",children:e(C.TextArea,{placeholder:"Enter course details"})}),e(v,{label:"Course Level",field:"CourseLevel",rules:[{required:!0,message:"Please enter course level"}],children:e(y,{placeholder:"Enter course level",min:1})}),e(v,{label:"Course Credits",field:"CourseCredits",rules:[{required:!0,message:"Please enter course credits"}],children:e(y,{placeholder:"Enter course credits",min:1})}),e(v,{label:"Course Delivery",field:"CourseDelivery",children:e(C,{placeholder:"Please enter"})}),e(v,{label:"Course Group",field:"CourseGroup",children:e(C,{placeholder:"Enter course group"})}),e(v,{label:"Unit Standards",field:"UnitStandardIDs",children:e(B,{mode:"multiple",placeholder:"Select unit standards",allowClear:!0,showSearch:!0,filterOption:(s,i)=>{var I,U,L;return((L=(U=(I=i.props)==null?void 0:I.children)==null?void 0:U.toLowerCase())==null?void 0:L.indexOf(s==null?void 0:s.toLowerCase()))>=0},children:c.map(s=>e(ne,{value:s.UnitStandardID,children:s.USName},s.UnitStandardID))})}),e(r.Item,{style:{textAlign:"center"},children:f(A,{children:[e(m,{type:"primary",htmlType:"submit",loading:g,children:"Submit"}),e(m,{onClick:a,children:"Reset"})]})})]})},ae=()=>{const[t,d]=n.exports.useState([]),[c,o]=n.exports.useState({}),[g,u]=n.exports.useState(!1),[a,b]=n.exports.useState([]),[s]=D(),[i,I]=n.exports.useState(!1);n.exports.useEffect(()=>{U(),L()},[]);const U=(p={})=>{I(!0),F.getCourses(p).then(h=>{d((h==null?void 0:h.data)||[])}).finally(()=>{I(!1)})},L=async(p={})=>{F.getUnits(p).then(h=>{b((h==null?void 0:h.data)||[])})},N=()=>{o({}),u(!0)},E=p=>{o(p),u(!0)},O=[{title:"Course Name",dataIndex:"CourseName",key:"CourseName"},{title:"Course Details",dataIndex:"CourseDetails",key:"CourseDetails"},{title:"Course Level",dataIndex:"CourseLevel",key:"CourseLevel"},{title:"Course Credits",dataIndex:"CourseCredits",key:"CourseCredits"},{title:"Operation",dataIndex:"Operation",render:(p,h)=>e(m,{size:"mini",type:"primary",onClick:x=>{x.stopPropagation(),E(h)},children:"Edit"})}],l=()=>{const p=s.getFieldsValue();U(p)},S=()=>{s.resetFields(),U()},R=p=>{var x;if(!p.UnitStandardIDs)return"No Unit Standard available at the moment";if(!a||!(a!=null&&a.length))return"Loading";const h=(x=p.UnitStandardIDs)==null?void 0:x.map(Y=>{const T=a==null?void 0:a.find(Z=>Z.UnitStandardID===Y);return{label:"Unit Standard: ",value:T==null?void 0:T.USName}});return e(W,{layout:"inline-horizontal",column:1,border:!0,data:h})};return f("div",{children:[e(r,{form:s,labelAlign:"left",layout:"inline",style:{display:"inline-block",marginBottom:"10px"},children:f(M,{children:[e(r.Item,{label:"Course Name",field:"CourseName",children:e(C,{allowClear:!0,placeholder:"Please enter"})}),e(r.Item,{label:"Course Level",field:"CourseLevel",children:e(y,{placeholder:"Please enter"})}),e(r.Item,{label:"Course Credits",field:"CourseCredits",children:e(y,{placeholder:"Please enter"})}),f(A,{children:[e(m,{type:"primary",icon:e(G,{}),onClick:l,children:"Search"}),e(m,{icon:e(J,{}),onClick:S,children:"Reset"})]}),e("div",{style:{position:"absolute",right:"20px",display:"inline-block"},children:e(m,{type:"primary",icon:e(j,{}),onClick:N,children:"Add"})})]})}),e($,{rowKey:"CourseID",expandedRowRender:R,expandProps:{icon:({expanded:p,record:h,...x})=>p?e("button",{...x,children:e(K,{})}):e("button",{...x,children:e(V,{})}),expandRowByClick:!0},columns:O,data:t,loading:i}),e(Q,{title:c!=null&&c.CourseID?"Edit Course":"Add Course",visible:g,onCancel:()=>u(!1),footer:null,children:e(re,{rowData:c,unitStandards:a,onOk:()=>{u(!1),l()}})})]})},_=r.Item,ie=({rowData:t,onOk:d})=>{const[c]=r.useForm(),[o,g]=n.exports.useState(!1);n.exports.useEffect(()=>{t!=null&&t.UnitStandardID?c.setFieldsValue({...t}):c.resetFields()},[t]);const u=()=>{c.resetFields()};return f(r,{form:c,onSubmit:b=>{g(!0),F.updateUnitstandard({UnitStandardID:(t==null?void 0:t.UnitStandardID)||void 0,...b}).then(s=>{s!=null&&s.data&&(q.success("success"),d())}).finally(()=>{g(!1)})},labelAlign:"left",wrapperCol:{span:24},className:X["search-form"],size:"small",children:[e(_,{label:"Unit Standard",field:"US",rules:[{required:!0,message:"Please enter"}],children:e(C,{placeholder:"Please enter"})}),e(_,{label:"Unit Standard Name",field:"USName",rules:[{required:!0,message:"Please enter"}],children:e(C,{placeholder:"Please enter"})}),e(_,{label:"Level",field:"USLevel",rules:[{required:!0,message:"Please enter"}],children:e(y,{placeholder:"Please enter",min:1})}),e(_,{label:"Credits",field:"USCredits",rules:[{required:!0,message:"Please enter"}],children:e(y,{placeholder:"Please enter",min:1})}),e(_,{label:"Description",field:"USDescription",children:e(C.TextArea,{placeholder:"Please enter"})}),e(_,{label:"Classification",field:"USClassification",children:e(C,{placeholder:"Please enter"})}),e(_,{label:"URL",field:"USURL",children:e(C,{placeholder:"Please enter"})}),e(r.Item,{style:{textAlign:"center"},children:f(A,{children:[e(m,{type:"primary",htmlType:"submit",loading:o,children:"Submit"}),e(m,{onClick:u,children:"Reset"})]})})]})},de=()=>{const[t,d]=n.exports.useState([]);n.exports.useState(null);const[c,o]=n.exports.useState(!1),[g,u]=n.exports.useState(!1),[a]=D(),[b,s]=n.exports.useState({});n.exports.useEffect(()=>{i()},[]);const i=async(l={})=>{u(!0),F.getUnits(l).then(S=>{d((S==null?void 0:S.data)||[])}).finally(()=>{u(!1)})},I=()=>{s({}),o(!0)},U=l=>{s(l),o(!0)},L=[{title:"Unit Standard",dataIndex:"US",key:"US",width:100},{title:"Unit Standard Name",dataIndex:"USName",key:"USName"},{title:"Description",dataIndex:"USDescription",key:"USDescription"},{title:"Level",dataIndex:"USLevel",key:"USLevel"},{title:"Credits",dataIndex:"USCredits",key:"USCredits"},{title:"Operation",dataIndex:"Operation",render:(l,S)=>e(w,{children:e(m,{type:"primary",size:"mini",onClick:R=>{R.stopPropagation(),U(S)},children:"Edit"})})}],N=()=>{const l=a.getFieldsValue();i(l)},E=()=>{a.resetFields(),i()},O=l=>{const S=[{label:"Classification: ",value:l==null?void 0:l.USClassification},{label:"URL: ",value:l!=null&&l.USURL?e("a",{href:l==null?void 0:l.USURL,target:"_blank",children:l==null?void 0:l.USURL}):""},{label:"AvailableGrade: ",value:l==null?void 0:l.USAvailableGrade}];return e(W,{layout:"inline-horizontal",column:1,border:!0,data:S})};return f("div",{children:[e(r,{form:a,labelAlign:"left",layout:"inline",style:{display:"inline-block",marginBottom:"10px"},children:f(M,{children:[e(r.Item,{label:"Unit Standard",field:"name",children:e(C,{allowClear:!0,placeholder:"Please enter"})}),e(r.Item,{label:"Level",field:"USLevel",children:e(y,{placeholder:"Please enter"})}),e(r.Item,{label:"Credits",field:"USCredits",children:e(y,{placeholder:"Please enter"})}),f(A,{children:[e(m,{type:"primary",icon:e(G,{}),onClick:N,children:"Search"}),e(m,{icon:e(J,{}),onClick:E,children:"Reset"})]}),e("div",{style:{position:"absolute",right:"20px",display:"inline-block"},children:e(m,{type:"primary",icon:e(j,{}),onClick:I,children:"Add"})})]})}),e($,{rowKey:"UnitStandardID",expandedRowRender:O,expandProps:{icon:({expanded:l,record:S,...R})=>l?e("button",{...R,children:e(K,{})}):e("button",{...R,children:e(V,{})}),expandRowByClick:!0},columns:L,data:t,loading:g}),e(Q,{title:b!=null&&b.UnitStandardID?"Edit Unit Standard":"Add Unit Standard",visible:c,onCancel:()=>o(!1),footer:null,children:e(ie,{rowData:b,onOk:()=>{o(!1),N()}})})]})},z=H.TabPane;function he(){return e(ee,{children:f(H,{defaultActiveTab:"1",destroyOnHide:!0,children:[e(z,{title:"Courses",children:e(ae,{})},"1"),e(z,{title:"Unit Standards",children:e(de,{})},"2")]})})}export{he as default};
