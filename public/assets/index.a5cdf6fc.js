import{j as e,F as pe,a6 as Ne,a7 as dt,r as a,K as Le,a8 as ut,W as ht,k as o,a9 as Fe,aa as pt,ab as J,M as y,ac as mt,ad as m,Q as G,U as S,ae as gt,af as ft,ag as N,J as F,L as I,V as Q,l as q,ah as yt,ai as St,G as xt,C as z}from"./index.5c46b2c4.js";import{T as X}from"./index.6fad1429.js";import{P as ue,I as bt}from"./communication.6d7cacab.js";import{h as he}from"./moment.0f22a298.js";import{t as me}from"./teacher.5e7f4761.js";import{L as Ae,U as Ct,S as kt,s as Tt}from"./updateForm.4b0dcb38.js";import{R as It}from"./index.8ad7a3ff.js";import{r as Dt,s as wt,a as V,A as vt}from"./errorHandler.bac39334.js";import{D as Z}from"./index.3e80b6e3.js";const Rt=X.TabPane,Oe={WorklifeCourses:"WORK & LIFE SKILLS COURSES",HospitalityCourses:"HOSPITALITY COURSES",FarmingUnits:"FARMING AND PRIMARY INDUSTRIES"};function Bt({rowData:i}){return e("div",{style:{height:400,width:"100%",overflow:"auto"},children:(()=>{const T=Object.keys(Oe).map(u=>{if(!i[u])return null;let c=[];try{c=JSON.parse(i[u])||[]}catch{}return e(Rt,{title:Oe[u],children:e(Ae,{size:"small",header:"",dataSource:c,render:(x,b)=>e(Ae.Item,{children:x},b)})},u)});return T!=null&&T.every(u=>u===null)?e(pe,{children:e(Ne,{})}):e(X,{type:"rounded",children:T})})()})}const Et=i=>{const d=(i==null?void 0:i.toLowerCase())||"";return d.includes("completed")||d==="completed"?{status:"success",text:i}:d.includes("on going")||d.includes("ongoing")||d==="on going"?{status:"processing",text:i}:d.includes("withdrawn")?{status:"warning",text:i}:d.includes("did not complete")||d.includes("incomplete")?{status:"error",text:i}:{status:"default",text:i||"-"}};function P({LearnerStatus:i=null,AssignedTo:d=null,FollowUp:T=null,formParams:u={}}){var Re,Be,Ee;dt();const[c,x]=a.exports.useState(!1),[b,A]=a.exports.useState([]),B=Le(t=>t.token),D=Le(t=>t.isAdmin),[w,h]=a.exports.useState({total:0,pageSize:10,current:1}),[C,v]=a.exports.useState(!1),[O,ee]=a.exports.useState({}),[ze,ge]=a.exports.useState(""),[fe,Ve]=a.exports.useState({}),[E]=ut(),[Pe,We]=a.exports.useState([]),[ye,Se]=a.exports.useState([]),[Ue,Y]=a.exports.useState(!1),[je,xe]=a.exports.useState(!1),[Ge,Ye]=a.exports.useState([]),[be,$e]=a.exports.useState(1),[He,Ce]=a.exports.useState(!1),[Me,ke]=a.exports.useState(!1),[p,$]=a.exports.useState([]),[te,le]=a.exports.useState(""),[ne,oe]=a.exports.useState(""),[Ke,ae]=a.exports.useState(!1),[qe,se]=a.exports.useState(!1),[_e,ie]=a.exports.useState(!1),[Je,re]=a.exports.useState(!1),[Te,ce]=a.exports.useState(""),[Ie,de]=a.exports.useState(""),[f,_]=a.exports.useState(null),[De,we]=a.exports.useState(0),[Ze,H]=a.exports.useState(!1);a.exports.useEffect(()=>{Ye([{title:"Learner Name",key:"StudentName",dataIndex:"StudentName",width:180,ellipsis:!0,render:(n,s)=>e(ht,{content:"Double-click row to edit",children:o("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[`${s.FirstName||""} ${s.LastName||""}`,e(Fe,{style:{fontSize:"12px",color:"#86909c",opacity:.6}})]})})},{title:"Registration Date",dataIndex:"CreateDate",key:"CreateDate",width:150,ellipsis:!0,render:n=>n?he.utc(n).format("DD/MM/YYYY"):"-"},{title:"School",dataIndex:"School",key:"School",ellipsis:!0,width:160},{title:"Status",dataIndex:"Status",key:"Status",width:140,render:(n,s)=>{const r=Et(s.Status);return e(pt,{status:r.status,text:r.text})}},{title:"Assigned To",dataIndex:"AssignedTo",key:"AssignedTo",ellipsis:!0,width:150},{title:"Teacher",dataIndex:"Tutor",key:"Tutor",ellipsis:!0,width:150},{title:"Email",dataIndex:"Email",key:"Email",ellipsis:!0,width:200},...D?[{title:"Operation",dataIndex:"operation",key:"operation",width:150,render:(n,s)=>o(G,{children:[e(S,{type:"primary",size:"mini",onClick:r=>{r.stopPropagation(),ee(s),Ce(!0),console.log(O)},children:"Courses"}),e(S,{type:"primary",size:"mini",onClick:r=>{r.stopPropagation(),ee(s),E.setFieldsValue({...s,SchoolName:s.SchoolNumber?s.SchoolNumber:s.SchoolName}),ve(s),Y(!0)},children:"Edit"}),e("div",{onClick:r=>{r.stopPropagation()},children:e(ue,{focusLock:!0,title:"Confirm",content:"Are you sure you want to delete?",onOk:()=>{tt(s.StudentID)},children:e(S,{type:"primary",status:"danger",size:"mini",children:"Delete"})})})]})}]:[]]),$e(be+1)},[D]),a.exports.useEffect(()=>{B&&k()},[B]),a.exports.useEffect(()=>{B&&(h({...w,current:1}),k({current:1}))},[u]);const ve=t=>{E.setFieldsValue({...t,FarmingUnitID:{value:t.FarmingUnitID,label:t.FarmingUnits},HospitalityCourseID:{value:t.HospitalityCourseID,label:t.HospitalityCourses},WorklifeCoursesID:{value:t.WorklifeCoursesID,label:t.WorklifeCourses}})},Qe=t=>{J.setStudentTutor(t).then(n=>{y.success(n==null?void 0:n.data),k()})},Xe=t=>{J.setStudentCourse(t).then(n=>{y.success(n==null?void 0:n.data),k()})},k=async(t={})=>{var s,r,L;x(!0),_(null),H(!1);const n=setTimeout(()=>{c&&H(!0)},5e3);try{const l=await Dt(()=>J.getStudentList({...w,LearnerStatus:i,AssignedTo:d,FollowUp:T,...u,...t,total:void 0}),{maxRetries:2,onRetry:g=>{we(g),wt(g,2)}});clearTimeout(n),A((l==null?void 0:l.data)||[]),h({...w,...l==null?void 0:l.pagination}),we(0),_(null),H(!1)}catch(l){clearTimeout(n),console.error("Failed to load learner list:",l),_(l),H(!1),(l==null?void 0:l.code)==="ECONNABORTED"||((s=l==null?void 0:l.message)==null?void 0:s.includes("timeout"))||((r=l==null?void 0:l.message)==null?void 0:r.includes("Timeout"))?y.error({content:"Database connection timeout. The server is taking too long to respond. Please try again.",duration:5e3}):((L=l==null?void 0:l.response)==null?void 0:L.status)===401?y.error({content:"Session expired. Please refresh the page and log in again.",duration:5e3}):V(l,"Failed to load learner list. Please check your connection and try again."),A([])}finally{x(!1)}},et=t=>{const{current:n,pageSize:s}=t;h({...t,current:n,pageSize:s}),k({current:n,pageSize:s})},tt=async t=>{try{const n=await q.deleteStudentInfo({StudentID:t});n!=null&&n.data&&(y.success("Learner deleted successfully"),k())}catch(n){V(n,"Failed to delete learner")}},lt=async t=>{var n,s,r,L,l,g,M,K;xe(!0);try{const R=await q.postStudentInfo({StudentID:O.StudentID,...t,CourseID:(n=t==null?void 0:t.CourseID)==null?void 0:n.value,CourseName:(s=t==null?void 0:t.CourseID)==null?void 0:s.label,FarmingUnits:(r=t==null?void 0:t.FarmingUnitID)==null?void 0:r.label,FarmingUnitID:(L=t==null?void 0:t.FarmingUnitID)==null?void 0:L.value,HospitalityCourses:(l=t==null?void 0:t.HospitalityCourseID)==null?void 0:l.label,HospitalityCourseID:(g=t==null?void 0:t.HospitalityCourseID)==null?void 0:g.value,WorklifeCourses:(M=t==null?void 0:t.WorklifeCoursesID)==null?void 0:M.label,WorklifeCoursesID:(K=t==null?void 0:t.WorklifeCoursesID)==null?void 0:K.value});R!=null&&R.data&&(Y(!1),y.success("Learner updated successfully"),E.resetFields(),k())}catch(R){V(R,"Failed to update learner")}finally{xe(!1)}},nt=t=>{const n=[{label:"DOB:",value:t.DateOfBirth?he(t.DateOfBirth).format("DD/MM/YYYY"):"-"},{label:"Gender:",value:t.Gender||"-"},{label:"Ethnicity:",value:t.Ethnicity||"-"}],s=[{label:"Phone Number:",value:t.PhoneNumber||"-"},{label:"Address:",value:!t.StreetAddress&&!t.City&&!t.Region?"-":`${t.StreetAddress||""}, ${t.City||""}, ${t.Region||""}`},{label:"Zipcode:",value:t.Zipcode||"-"}],r=[{label:"Teacher Name:",value:t.TeacherName||"-"},{label:"Teacher Email:",value:t.TeacherEmail||"-"},{label:"Invoice Email:",value:t.InvoiceEmail||"-"}],L=[{label:"Registration Date:",value:t.CreateDate?he.utc(t.CreateDate).format("DD/MM/YYYY HH:mm"):"-"},{label:"Tutor:",value:t.Tutor||"-"},{label:"Fees:",value:t.Fees||"-"},{label:"Workbook Option:",value:t.WorkbookOption||"-"},{label:"Additional Info:",value:t.AdditionalInfo||"-"}];return o(pe,{children:[D&&o("div",{style:{marginBottom:12,padding:"8px 12px",background:"#f7f8fa",borderRadius:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[e(Fe,{style:{fontSize:"14px",color:"#4e5969"}}),e(m.Text,{style:{fontSize:"13px",color:"#4e5969"},children:"Tip: Double-click this row to quickly edit learner details"})]}),o("div",{style:{marginBottom:16},children:[e(m.Text,{style:{fontSize:"14px",fontWeight:600,color:"#1d2129",marginBottom:8,display:"block"},children:"Personal Information"}),e(Z,{layout:"inline-horizontal",border:!0,column:{xs:1,sm:2,md:2,lg:3,xl:3,xxl:3},data:n})]}),o("div",{style:{marginBottom:16},children:[e(m.Text,{style:{fontSize:"14px",fontWeight:600,color:"#1d2129",marginBottom:8,display:"block"},children:"Contact Information"}),e(Z,{layout:"inline-horizontal",border:!0,column:{xs:1,sm:2,md:2,lg:3,xl:3,xxl:3},data:s})]}),o("div",{style:{marginBottom:16},children:[e(m.Text,{style:{fontSize:"14px",fontWeight:600,color:"#1d2129",marginBottom:8,display:"block"},children:"School & Teaching"}),e(Z,{layout:"inline-horizontal",border:!0,column:{xs:1,sm:2,md:2,lg:3,xl:3,xxl:3},data:r})]}),o("div",{style:{marginBottom:16},children:[e(m.Text,{style:{fontSize:"14px",fontWeight:600,color:"#1d2129",marginBottom:8,display:"block"},children:"Enrollment Details"}),e(Z,{layout:"inline-horizontal",border:!0,column:{xs:1,sm:2,md:2,lg:3,xl:4,xxl:4},data:L})]}),o(G,{children:[D&&e("div",{onClick:l=>{l.stopPropagation()},children:e(ue,{focusLock:!0,icon:null,title:o("div",{style:{width:"300px"},children:[e("p",{children:" Assign Course"}),e(F,{allowCreate:!0,labelInValue:!0,showSearch:!0,allowClear:!0,options:Pe.map(l=>({label:l.CourseName,value:l.CourseID})),filterOption:(l,g)=>{var M,K,R;return((K=(M=g.props.value)==null?void 0:M.label)==null?void 0:K.toLowerCase().indexOf(l.toLowerCase()))>=0||((R=g.props)==null?void 0:R.children.toLowerCase().indexOf(l.toLowerCase()))>=0},placeholder:"please enter",onChange:l=>{Ve(l)}})]}),okText:"ok",cancelText:"cancel",onVisibleChange:l=>{l&&q.getCourse({}).then(g=>{We((g==null?void 0:g.data)||[])})},onOk:()=>{Xe({id:t.StudentID,CourseName:fe.label,CourseID:fe.value})}})}),D&&e("div",{onClick:l=>{l.stopPropagation()},children:e(ue,{focusLock:!0,icon:null,title:o("div",{style:{width:"200px"},children:[e("p",{children:"Assign to a tutor"}),e(F,{defaultValue:t.Tutor||void 0,showSearch:!0,placeholder:"please enter",options:ye.map(l=>({label:l.DeliverySpecialist,value:l.Id})),onChange:l=>{ge(l)}})]}),okText:"ok",cancelText:"cancel",onVisibleChange:l=>{l&&(me.getAll({}).then(g=>{Se((g==null?void 0:g.data)||[])}),ge(t.Tutor))},onOk:()=>{Qe({id:t.StudentID,tutor:ze})},children:e(S,{type:"primary",size:"mini",children:"Assign to a tutor"})})})]})]})},ot=()=>{Y(!1),E.resetFields()},at=t=>{ke(t||!1)},st=async()=>{if(!te||p.length===0){y.warning("Please select learners and a tutor");return}x(!0);try{const t=p.map(n=>J.setStudentTutor({id:n,tutor:te}));await Promise.all(t),y.success(`Successfully assigned tutor to ${p.length} learner(s)`),$([]),ae(!1),le(""),k()}catch(t){V(t,"Failed to assign tutor to some learners")}finally{x(!1)}},it=async()=>{if(!ne||p.length===0){y.warning("Please select learners and a status");return}x(!0);try{const t=p.map(n=>q.postStudentInfo({StudentID:n,Status:ne,type:1}));await Promise.all(t),y.success(`Successfully updated status for ${p.length} learner(s)`),$([]),se(!1),oe(""),k()}catch(t){V(t,"Failed to update status for some learners")}finally{x(!1)}},rt=async()=>{if(p.length===0){y.warning("Please select learners to delete");return}x(!0);try{const t=p.map(n=>q.deleteStudentInfo({StudentID:n}));await Promise.all(t),y.success(`Successfully deleted ${p.length} learner(s)`),$([]),ie(!1),k()}catch(t){V(t,"Failed to delete some learners")}finally{x(!1)}},ct=()=>{if(p.length===0){y.warning("Please select learners to email");return}const n=b.filter(r=>p.includes(r.StudentID)).map(r=>r.Email).filter(r=>r&&r.trim()!=="");if(n.length===0){y.warning("No valid email addresses found for selected learners");return}const s=`mailto:?bcc=${n.join(",")}&subject=${encodeURIComponent(Te)}&body=${encodeURIComponent(Ie)}`;window.location.href=s,y.success(`Opening email client with ${n.length} recipient(s)`),re(!1),ce(""),de("")};return o(pe,{children:[Ze&&c&&!f&&e(mt,{type:"info",closable:!0,onClose:()=>H(!1),content:o("div",{children:[e(m.Text,{style:{fontWeight:600},children:"Loading is taking longer than expected..."}),e(m.Text,{style:{display:"block",marginTop:"4px",fontSize:"13px"},children:"The database might be under heavy load or experiencing network latency. Please wait or try refreshing if it takes too long."})]}),style:{marginBottom:16}}),f&&e("div",{style:{marginBottom:16,padding:"16px",background:"#fff2e8",borderRadius:"4px",border:"1px solid #ff7d00"},children:o(G,{direction:"vertical",style:{width:"100%"},children:[o("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o("div",{children:[e(m.Text,{style:{fontWeight:600,color:"#d46b08",fontSize:"14px"},children:"\u26A0\uFE0F Unable to Load Learners"}),e(m.Text,{style:{display:"block",marginTop:"4px",fontSize:"13px",color:"#8c8c8c"},children:(f==null?void 0:f.code)==="ECONNABORTED"||((Re=f==null?void 0:f.message)==null?void 0:Re.includes("timeout"))||((Be=f==null?void 0:f.message)==null?void 0:Be.includes("Timeout"))?"The database connection timed out. This may be due to slow network or heavy server load.":((Ee=f==null?void 0:f.response)==null?void 0:Ee.status)===401?"Your session has expired. Please refresh the page to log in again.":"There was an error connecting to the server. Please check your internet connection."})]}),o(G,{children:[e(S,{type:"primary",size:"small",onClick:()=>k(),loading:c,children:"Retry Now"}),e(S,{size:"small",onClick:()=>{_(null),A([])},children:"Dismiss"})]})]}),De>0&&o(m.Text,{style:{fontSize:"12px",color:"#8c8c8c"},children:["Attempted ",De," retries..."]})]})}),D&&p.length>0&&e("div",{style:{marginBottom:16,padding:"12px",background:"#f0f2f5",borderRadius:"4px"},children:o(G,{children:[o(m.Text,{children:[p.length," learner(s) selected"]}),e(S,{type:"primary",size:"small",onClick:()=>{me.getAll({}).then(t=>{Se((t==null?void 0:t.data)||[])}),ae(!0)},children:"Assign Tutor"}),e(S,{type:"primary",size:"small",onClick:()=>se(!0),children:"Update Status"}),e(S,{type:"primary",size:"small",onClick:()=>re(!0),children:"Email Selected"}),e(S,{type:"primary",status:"danger",size:"small",onClick:()=>ie(!0),children:"Delete Selected"}),e(S,{size:"small",onClick:()=>$([]),children:"Clear Selection"})]})}),!c&&!f&&b.length===0?e("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",background:"#f7f8fa",borderRadius:"4px",padding:"40px"},children:e(Ne,{description:o("div",{style:{textAlign:"center"},children:[e(m.Title,{heading:6,style:{marginBottom:"8px",color:"#1D2129"},children:"No Learners Found"}),e(m.Text,{style:{fontSize:"14px",color:"#86909C",display:"block",marginBottom:"4px"},children:u&&Object.keys(u).length>0?"No learners match your current filters. Try adjusting your search criteria.":i||d||T?"No learners found with the current filter criteria.":"No learners found in the system."}),u&&Object.keys(u).length>0&&e("div",{style:{marginTop:"20px"},children:e(S,{type:"outline",onClick:()=>{setFormParams({}),h({...w,current:1}),k({current:1})},children:"Clear Filters"})})]})})}):e(It,{columns:Ge,rowKey:"StudentID",expandedRowRender:nt,expandProps:{icon:({expanded:t,record:n,...s})=>t?e("button",{...s,children:e(gt,{})}):e("button",{...s,children:e(ft,{})}),expandRowByClick:!0},rowSelection:D?{type:"checkbox",selectedRowKeys:p,onChange:(t,n)=>{$(t)},checkAll:!0}:void 0,data:b,loading:c,scroll:{x:1e3},border:{wrapper:!0,cell:!0},pagination:{...w,size:"mini",bufferSize:3,sizeCanChange:!0,showTotal:!0,showJumper:!0,pageSizeChangeResetCurrent:!0},onChange:et,onRow:(t,n)=>({onDoubleClick:()=>{ee(t),E.setFieldsValue({...t,SchoolName:t.SchoolNumber?t.SchoolNumber:t.SchoolName}),ve(t),Y(!0)}})},be),e(N,{title:"Courses filled in on the forms",visible:C,footer:e("div",{style:{textAlign:"center"},children:e(S,{type:"primary",onClick:()=>v(!1),children:"ok"})}),onCancel:()=>v(!1),autoFocus:!1,focusLock:!0,unmountOnExit:!0,style:{width:"800px"},children:e(Bt,{rowData:O})}),e(N,{title:"Edit Learner",visible:Ue,footer:null,onCancel:()=>{Y(!1),E.resetFields()},autoFocus:!1,focusLock:!0,unmountOnExit:!0,style:{width:"80%",height:"950px"},children:e(Ct,{form:E,handleSubmit:lt,handleCancel:ot,loading:je,headerInfo:O})}),e(vt,{allCourseisibility:He,setAllCourseVisible:Ce,studentData:O}),e(kt,{sendResultVisible:Me,sendResultVisibleHandle:at,rowData:O,isWorkshop:!1,ok:()=>{ke(!1)}}),o(N,{title:"Bulk Assign Tutor",visible:Ke,onOk:st,onCancel:()=>{ae(!1),le("")},confirmLoading:c,children:[e("div",{style:{marginBottom:16},children:o(m.Text,{children:["Assign tutor to ",p.length," selected learner(s)"]})}),e(F,{placeholder:"Select a tutor",showSearch:!0,style:{width:"100%"},options:ye.map(t=>({label:t.DeliverySpecialist,value:t.Id})),onChange:t=>le(t),value:te})]}),o(N,{title:"Bulk Update Status",visible:qe,onOk:it,onCancel:()=>{se(!1),oe("")},confirmLoading:c,children:[e("div",{style:{marginBottom:16},children:o(m.Text,{children:["Update status for ",p.length," selected learner(s)"]})}),e(F,{placeholder:"Select a status",style:{width:"100%"},options:["On Going","Withdrawn","Did Not Complete","Completed","Other"],onChange:t=>oe(t),value:ne})]}),e(N,{title:"Confirm Bulk Delete",visible:_e,onOk:rt,onCancel:()=>ie(!1),confirmLoading:c,children:o(m.Text,{type:"danger",children:["Are you sure you want to delete ",p.length," selected learner(s)? This action cannot be undone."]})}),o(N,{title:"Send Email to Selected Learners",visible:Je,onOk:ct,onCancel:()=>{re(!1),ce(""),de("")},style:{width:"600px"},children:[o("div",{style:{marginBottom:16},children:[o(m.Text,{children:["Email ",p.length," selected learner(s)"]}),e(m.Text,{type:"secondary",style:{display:"block",fontSize:"12px",marginTop:"4px"},children:"Note: This will open your default email client with recipients in BCC for privacy"})]}),o(I,{layout:"vertical",children:[e(I.Item,{label:"Subject",required:!0,children:e(Q,{placeholder:"Enter email subject",value:Te,onChange:t=>ce(t)})}),e(I.Item,{label:"Message",required:!0,children:e(Q.TextArea,{placeholder:"Enter email message",value:Ie,onChange:t=>de(t),autoSize:{minRows:6,maxRows:12}})})]})]})]})}const{Row:Lt,Col:W}=xt,{useForm:Ft}=I;function U(i){const[d]=Ft(),[T,u]=a.exports.useState(!1),[c,x]=a.exports.useState([]),b=a.exports.useRef(yt(h=>{i.onSearch(h),u(!1)},500)).current;a.exports.useEffect(()=>()=>{b.cancel()},[b]),a.exports.useEffect(()=>{const h=setTimeout(()=>{me.getAll({}).then(C=>{x((C==null?void 0:C.data)||[])}).catch(C=>{var v;((v=C==null?void 0:C.response)==null?void 0:v.status)!==401&&console.error("Failed to load tutors:",C)})},1e3);return()=>clearTimeout(h)},[]);const A=()=>{const h=d.getFieldsValue();i.onSearch(h)},B=()=>{const h=d.getFieldsValue();i.onSearch(h)},D=()=>{b.cancel(),u(!1),d.resetFields(),i.onSearch({School:void 0,name:void 0,LearnerStatus:void 0,AssignedTo:void 0,Tutor:void 0})},w=h=>{h.key==="Enter"&&(b.cancel(),u(!1),A())};return e("div",{children:e(I,{form:d,className:Tt["search-form"],labelAlign:"left",layout:"vertical",autoComplete:"off",style:{marginBottom:"16px"},children:o(Lt,{gutter:[12,12],children:[e(W,{xs:24,sm:12,md:8,lg:6,xl:4,children:e(I.Item,{label:"Learner Name",field:"name",style:{marginBottom:0},children:e(Q,{allowClear:!0,onKeyDown:w,placeholder:"Enter name"})})}),e(W,{xs:24,sm:12,md:8,lg:6,xl:4,children:e(I.Item,{label:"School Name",field:"School",style:{marginBottom:0},children:e(Q,{allowClear:!0,onKeyDown:w,placeholder:"Enter school"})})}),e(W,{xs:24,sm:12,md:8,lg:5,xl:4,children:e(I.Item,{label:"Status",field:"LearnerStatus",style:{marginBottom:0},children:e(F,{placeholder:"Select status",allowClear:!0,onChange:B,options:[{label:"On Going",value:"On Going"},{label:"Completed",value:"Completed"},{label:"Withdrawn",value:"Withdrawn"},{label:"Did Not Complete",value:"Did Not Complete"},{label:"Other",value:"Other"}]})})}),e(W,{xs:24,sm:12,md:8,lg:5,xl:3,children:e(I.Item,{label:"Assigned To",field:"AssignedTo",style:{marginBottom:0},children:e(F,{placeholder:"Assignment",allowClear:!0,onChange:B,options:[{label:"School",value:"School"},{label:"GET Group",value:"GET Group"}]})})}),e(W,{xs:24,sm:12,md:8,lg:5,xl:4,children:e(I.Item,{label:"Teacher",field:"Tutor",style:{marginBottom:0},children:e(F,{placeholder:"Select teacher",allowClear:!0,showSearch:!0,onChange:B,options:c.map(h=>({label:h.DeliverySpecialist,value:h.DeliverySpecialist})),filterOption:(h,C)=>{var v;return((v=C.label)==null?void 0:v.toLowerCase().indexOf(h.toLowerCase()))>=0}})})}),e(W,{xs:24,sm:12,md:8,lg:7,xl:5,style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end"},children:o(G,{style:{marginBottom:0},children:[e(S,{type:"primary",icon:e(St,{}),onClick:A,children:"Search"}),e(S,{icon:e(bt,{}),onClick:D,children:"Reset"})]})})]})})})}const j=X.TabPane;function Gt(){const[i,d]=a.exports.useState({}),[T,u]=a.exports.useState("1"),c=b=>{d(b)};return e("div",{style:{padding:0,margin:0},children:o(X,{activeTab:T,onChange:b=>{u(b)},type:"card-gutter",children:[e(j,{title:"All",children:o(z,{children:[e(U,{onSearch:c}),e(P,{formParams:i})]})},"1"),e(j,{title:"Working with School",children:o(z,{children:[e(U,{onSearch:c}),e(P,{AssignedTo:"School",formParams:i})]})},"2"),e(j,{title:"Working with GG",children:o(z,{children:[e(U,{onSearch:c}),e(P,{AssignedTo:"GET Group",formParams:i})]})},"3"),e(j,{title:"Complete",children:o(z,{children:[e(U,{onSearch:c}),e(P,{LearnerStatus:"Completed",formParams:i})]})},"4"),e(j,{title:"Withdrawn",children:o(z,{children:[e(U,{onSearch:c}),e(P,{LearnerStatus:"Withdrawn",formParams:i})]})},"5"),e(j,{title:"Follow-Up Needed",children:o(z,{children:[e(U,{onSearch:c}),e(P,{FollowUp:"30",formParams:i})]})},"6")]})})}export{Gt as default};
